<head>
  <title>Asteroids!</title>
</head>

<body>
  <h1>
    Asteroids!
  </h1>
  
  {{> mainLobby }}
  {{> singleLobby }}
  {{> singleLeaderboard }}
  {{> multiLobby }}
  {{> multiLeaderboard }}
  {{> existingGames }}
  {{> gamePlay }}

  <footer>
    <h3>
      Created by <a href="https://www.linkedin.com/in/samsweeney">Sam Sweeney</a>
    </h3>
    <h3>
     View source <a href="https://github.com/shubik22/Meteor-Asteroids">here</a>
    </h3>
  </footer>
</body>

<template name="mainLobby">
  {{#if show}}
    {{#if username}}
      <div class="button single-player">
        Single Player
      </div>
      <div class="button multiplayer">
        Multiplayer
      </div>
    {{else}}
      <div class="name">
        <div class="name-text">What's your name?</div>
        <div class="name-input">
          <input type="text" class="username">
          <span class="button set-name">
            Let's Go!
          </span>
        </div>
      </div>
    {{/if}}
  {{/if}}
</template>

<template name="singleLobby">
  {{#if show}}
    <h2>Single Player</h2>
    <div class="button new-game">
      New Game
    </div>
    <div class="button leaderboard">
      Leaderboard
    </div>
    <div class="button back">
      Back
    </div>
  {{/if}}
</template>

<template name="singleLeaderboard">
  {{#if show}}
    <h2>Single Player Leaderboard</h2>
    <ol class="leaderboard">
      {{#each records}}
        <li>{{username}} ({{time}} seconds)</li>
      {{/each}}
    </ol>
    <div class="button back">
      Back
    </div>
  {{/if}}
</template>

<template name="multiLobby">
  {{#if show}}
    <h2>Multiplayer</h2>
    <div class="button new-game">
      New Game
    </div>
    <div class="button existing-games">
      Existing Games
    </div>
    <div class="button leaderboard">
      Leaderboard
    </div>
    <div class="button back">
      Back
    </div>
  {{/if}}
</template>

<template name="existingGames">
  {{#if show}}
    <h2>Existing Games</h2>
    {{#if gamesExist}}
      <ul class="existing-games">
        {{#each games}}
          <li class="join-game" id="{{_id}}">Play against {{opponent}}!</li>
        {{/each}}
      </ul>
    {{else}}
      <h3 class="no-games">
        Sorry, there aren't any available games currently.  Start a new one!
      </h3>
    {{/if}}
    <div class="button back">
      Back
    </div>
  {{/if}}
</template>

<template name="multiLeaderboard">
  {{#if show}}
    <h2>Multiplayer Leaderboard</h2>
    <ol class="leaderboard">
      {{#each records}}
        <li>{{username}} ({{time}} seconds, opponent: {{opponent}})</li>
      {{/each}}
    </ol>
    <div class="button back">
      Back
    </div>
  {{/if}}
</template>

<template name="gamePlay">
  {{#if show}}
    <canvas height="600" width="600"></canvas>
    <div class="button lobby">
      Leave Game
    </div>
  {{/if}}
</template>

<template name="instructions">
  <div class="instructions">
    <h2>How to Play</h2>
    <table>
      <tr>
        <td>
          <strong>&#8592;</strong>: Rotate left
        </td>
        <td>
          <strong>&#8594;</strong>: Rotate right
        </td>
      </tr>
      <tr>
        <td>
          <strong>&#8593;</strong>: Accelerate
        </td>
        <td>
          <strong>&#8595;</strong>: Decelerate
        </td>
      </tr>
    </table>
    <strong>Spacebar</strong>: Shoot bullet
  </div>
</template>